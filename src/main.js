var L=Object.defineProperty;var y=(e,t,n)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var h=(e,t,n)=>y(e,typeof t!="symbol"?t+"":t,n);const l=class l{constructor(t,n){this.id=l.currentId++,this.name=t,this.price=n}};h(l,"currentId",1);let c=l;const f=[new c("쿨라",1500),new c("속이사이다",1700),new c("판타지판타",1500),new c("오뎅국물",1800),new c("부장라떼",800),new c("판타지판타2",1500),new c("레드뿔",2500),new c("핫세븐",1900),new c("커피우유",1400)],s=e=>parseInt(e).toLocaleString("ko-kr"),i=e=>document.querySelector(e),u=(e,t,n="innerText")=>{const r=i(e);switch(n){case"innerText":r.innerText=t;break;case"value":"value"in r&&(r.value=t);break;default:return}},g=(e,t,n)=>{switch(e){case"insert":return`${s(t)}원을 투입했습니다.`;case"purchase":return`${f.find(r=>r.id===n).name}을(를) 구매했습니다.`;case"return":return`${s(t)}원을 반환합니다.`;case"insufficient":return`${s(t)}원이 부족합니다.`;default:return""}},a=(e,t,n)=>{const r=i(".log-template").content.cloneNode(!0),d=r.querySelector(".log");d.textContent=g(e,t,n);const p=i(".log-lists");p.appendChild(r),p.scrollTop=p.scrollHeight};let m=0;const w=e=>m+=e,v=e=>w(e*-1),E=()=>m=0,o=()=>m,N=e=>{isNaN(e)||(w(e),u(".insert-input","","value"),u(".product-price-display",s(o())),a("insert",e))},T=()=>{o()!==0&&(a("return",o()),E(),u(".product-price-display",0))},k=(e,t)=>{if(t===0)return;const n=f.find(r=>r.id===e);t>=n.price?(v(n.price),u(".product-price-display",s(t-n.price)),a("purchase",n.price,e)):a("insufficient",n.price-t)};document.addEventListener("DOMContentLoaded",()=>{f.forEach(e=>{const t=i(".product-template").content.cloneNode(!0),n=t.querySelector(".product"),r=t.querySelector(".product-name"),d=t.querySelector(".product-price");r.innerText=e.name,d.innerText=s(e.price),n.addEventListener("click",()=>k(e.id,o())),n.addEventListener("mousedown",()=>{o()===0&&u(".product-price-display",s(e.price))}),n.addEventListener("mouseup",()=>{o()===0&&u(".product-price-display",0)}),i(".product-lists").appendChild(t)}),i(".insert-money").addEventListener("click",()=>{const e=i(".insert-input").valueAsNumber;N(e)}),i(".return-money").addEventListener("click",T)});
